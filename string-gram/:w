-- string-gram -------------------------------------------------------------
-- copyright (c) 2021 jason delaat
-- mit license: https://github.com/jasondelaat/pico8-tools/blob/release/license
----------------------------------------------------------------------------
-- implements simple context-free generative text grammar
-- token count: 
------------------------------------------------------------------------
_sym_table = {}

function lit(c)
   return function() return c end
end

function sym(s)
   return _sym_table[s]()
end

function register(sym, rule)
   _sym_table[sym] = rule
end

function choice(...)
   local args = ...
   return rnd(args)
end

--function seq(...)
--   return function()
--      local result = ''
--      for k,v in pairs(...) do
--	 result = result..v()
--      end
--   end
--end

empty = lit('')
-- end string-gram -------------------------------------------------------------
